{"version":3,"sources":["webpack:///webpack/bootstrap 35a28320189915315823","webpack:///external \"koa-router\"","webpack:///external \"sequelize\"","webpack:///./nuxt.config.js","webpack:///./server/routes/index.js","webpack:///external \"koa\"","webpack:///external \"nuxt\"","webpack:///./server/controller/base-controller/index.js","webpack:///./server/controller/home/index.js","webpack:///./server/controller/index.js","webpack:///./server/db/config/index.js","webpack:///./server/db/index.js","webpack:///./server/libs/format.js","webpack:///./server/model/base-model/index.js","webpack:///./server/model/home/index.js","webpack:///./server/model/index.js","webpack:///./server/routes/v1/home/index.js","webpack:///./server/routes/v1/index.js","webpack:///./server/service/base-services/index.js","webpack:///./server/service/home/index.js","webpack:///./server/service/index.js","webpack:///external \"request\"","webpack:///./server/index.js"],"names":["module","exports","head","title","meta","charset","name","content","hid","link","rel","type","href","css","loading","color","plugins","modules","loader","test","loaders","build","vendor","babel","router","prefix","get","ctx","next","body","use","v1","routes","allowedMethods","BaseController","constructor","services","find","id","params","result","data","_services","e","findAll","query","create","request","update","patch","remove","getList","Controller","Home","home","database","user","pass","options","host","dialect","pool","max","min","acquire","idle","operatorsAliases","sequelize","Sequelize","baseFields","createdAt","DATE","field","updatedAt","createSchema","table","fields","define","authenticate","then","console","log","catch","err","error","errmsg","errno","message","res","info","code","ValidationError","errors","BaseModel","schema","_getSort","sort","_schema","isNaN","where","order","destroy","index","Math","floor","rows","findAndCountAll","limit","offset","STRING","desc","logoUrl","linkUrl","status","INTEGER","Model","post","put","delete","BaseServices","_model","curl","fn","Promise","resolve","reject","Services","getBanner","response","statusCode","JSON","parse","topBannerList","app","Koa","process","env","HOST","port","PORT","config","require","dev","nuxt","Nuxt","builder","Builder","respond","req","render","listen","start"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 21);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 35a28320189915315823","module.exports = require(\"koa-router\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa-router\"\n// module id = 0\n// module chunks = 0","module.exports = require(\"sequelize\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"sequelize\"\n// module id = 1\n// module chunks = 0","module.exports = {\r\n  /*\r\n  ** Headers of the page\r\n  */\r\n  head: {\r\n    title: 'starter',\r\n    meta: [\r\n      { charset: 'utf-8' },\r\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\r\n      { hid: 'description', name: 'description', content: 'Nuxt.js project' }\r\n    ],\r\n    link: [\r\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\r\n    ]\r\n  },\r\n  /*\r\n  ** Global CSS\r\n  */\r\n  css: ['~assets/css/main.css','element-ui/lib/theme-chalk/index.css'],\r\n  /*\r\n  ** Customize the progress-bar color\r\n  */\r\n  loading: { color: '#3B8070' },\r\n  plugins:['~/plugins/element-ui','~/plugins/axios'],\r\n  modules:['@nuxtjs/axios'],\r\n  loader:[\r\n    {\r\n        test:/\\.less$/,\r\n        loaders:'style-loader!css-loader!less-loader'\r\n    }\r\n ],\r\n  /*\r\n   ** Build configuration\r\n   */\r\n  build: {\r\n    vendor:['axios'],\r\n    babel:{\r\n        \"plugins\":[\r\n            ['component',{\r\n                \"libraryName\":\"element-ui\",\r\n                \"styleLibraryName\":\"theme-chalk\"\r\n            }]\r\n        ]\r\n    },\r\n    /*\r\n     ** Run ESLINT on save\r\n     */\r\n    // extend (config, ctx) {\r\n    //   if (ctx.isClient) {\r\n    //     config.module.rules.push({\r\n    //       enforce: 'pre',\r\n    //       test: /\\.(js|vue)$/,\r\n    //       loader: 'eslint-loader',\r\n    //       exclude: /(node_modules)/\r\n    //     })\r\n    //   }\r\n    // }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./nuxt.config.js","import koaRouter from 'koa-router'\r\nimport v1 from './v1'\r\n\r\nconst router = koaRouter()\r\n\r\nrouter.prefix('/api/v1');\r\nrouter.get('/', async (ctx , next) =>{\r\n    ctx.body = {\"msg\":\"this is Api\",\"code\": \"0\"};\r\n});\r\nrouter.use(v1.routes(), v1.allowedMethods())\r\n\r\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/routes/index.js","module.exports = require(\"koa\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"koa\"\n// module id = 4\n// module chunks = 0","module.exports = require(\"nuxt\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"nuxt\"\n// module id = 5\n// module chunks = 0","import { res, err } from '../../libs/format';\r\n\r\nclass BaseController {\r\n  constructor(services) {\r\n    this._services = new services\r\n  }\r\n\r\n  find = async ctx => {\r\n    const id = ctx.params.id\r\n    let result\r\n\r\n    try {\r\n      const data = await this._services.find({ id })\r\n      result = res({ data })\r\n    } catch (e) {\r\n      result = err(e)\r\n    }\r\n\r\n    ctx.body = result\r\n  }\r\n\r\n  findAll = async ctx => {\r\n    let result\r\n\r\n    try {\r\n      const data = await this._services.findAll(ctx.query)\r\n      result = res({ data })\r\n    } catch (e) {\r\n      result = err(e)\r\n    }\r\n\r\n    ctx.body = result\r\n  }\r\n\r\n  create = async ctx => {\r\n    const params = ctx.request.body\r\n    let result\r\n\r\n    try {\r\n      const data = await this._services.create(params);\r\n      result = res({ data })\r\n    } catch (e) {\r\n      result = err(e)\r\n    }\r\n\r\n    ctx.body = result\r\n  }\r\n\r\n  update = async ctx => {\r\n    const id = ctx.params.id\r\n    const params = ctx.request.body\r\n    let result\r\n\r\n    try {\r\n      const data = await this._services.update(id, params)\r\n      result = res({ data })\r\n    } catch (e) {\r\n      result = err(e)\r\n    }\r\n\r\n    ctx.body = result\r\n  }\r\n\r\n  patch = async ctx => {\r\n    const id = ctx.params.id\r\n    const params = ctx.request.body\r\n    let result\r\n\r\n    try {\r\n      const data = await this._services.update(id, params)\r\n      result = res({ data })\r\n    } catch (e) {\r\n      result = err(e)\r\n    }\r\n\r\n    ctx.body = result\r\n  }\r\n\r\n  remove = async ctx => {\r\n    const id = ctx.params.id\r\n    let result\r\n\r\n    try {\r\n      const data = await this._services.remove(id)\r\n      result = res({ data })\r\n    } catch (e) {\r\n      result = err(e)\r\n    }\r\n\r\n    ctx.body = result\r\n  }\r\n\r\n  /* 分页 */\r\n  getList = async ctx => {\r\n    let result\r\n\r\n    try {\r\n      const data = await this._services.getList(ctx)\r\n      result = res({ data })\r\n    } catch (e) {\r\n      result = err(e)\r\n    }\r\n\r\n    ctx.body = result\r\n  }\r\n}\r\n\r\nexport default BaseController\n\n\n// WEBPACK FOOTER //\n// ./server/controller/base-controller/index.js","import { Home } from '../../service'\r\nimport BaseController from '../base-controller'\r\n\r\nclass Controller extends BaseController {\r\n  constructor() {\r\n    super(Home)\r\n  }\r\n}\r\n\r\nexport default new Controller\n\n\n// WEBPACK FOOTER //\n// ./server/controller/home/index.js","import home from './home'; \r\n\r\nexport { home }; \n\n\n// WEBPACK FOOTER //\n// ./server/controller/index.js","const database = 'koa';\r\nconst user = 'koa';\r\nconst pass = '123456';\r\n\r\nconst options = {\r\n    host: '47.95.205.217',\r\n    dialect: 'mysql',\r\n    pool: {\r\n        max: 5,\r\n        min: 0,\r\n        acquire: 30000,\r\n        idle: 10000,\r\n    },\r\n\r\n    operatorsAliases: false,\r\n};\r\n\r\nexport { database, user, pass, options };\n\n\n// WEBPACK FOOTER //\n// ./server/db/config/index.js","import Sequelize from 'sequelize'\r\nimport { database, user, pass, options } from './config'\r\n\r\nconst sequelize = new Sequelize(database, user, pass, options);\r\n\r\n// 公共字段\r\nconst baseFields = {\r\n  createdAt: {\r\n    type: Sequelize.DATE,\r\n    field: 'create_time'\r\n  },\r\n  updatedAt: {\r\n    type: Sequelize.DATE,\r\n    field: 'update_time'\r\n  },\r\n}\r\n\r\nconst createSchema = (table, fields, options = {}) => {\r\n  return sequelize.define(table, {\r\n    ...baseFields,\r\n    ...fields\r\n  }, options)\r\n}\r\n\r\n// test connection\r\nsequelize\r\n  .authenticate()\r\n  .then(() => {\r\n    console.log('Sequelize: Connection has been established successfully.');\r\n  })\r\n  .catch(err => {\r\n    console.error('Sequelize: Unable to connect to the database:', err);\r\n  });\r\n\r\nexport { createSchema }\r\nexport default sequelize\n\n\n// WEBPACK FOOTER //\n// ./server/db/index.js","import Sequelize from 'sequelize';\r\n\r\n/**\r\n * return object 定义返回格式\r\n * errno\r\n * errmsg\r\n * data\r\n */\r\nconst errmsg = {\r\n    1030: {\r\n        errno: 1030, errmsg: false, message: '系统开小差了!' \r\n    }\r\n}\r\n\r\nconst res = data => {\r\n    let info = {\r\n        \"errno\": 0,\r\n        \"errmsg\": \"success\",\r\n    };\r\n    if (data && !data.data.code) {\r\n        info.data = data.data;\r\n    } else {\r\n        info = errmsg[data.data.code];\r\n    }\r\n    return info;\r\n};\r\n\r\nconst err = error => {\r\n    if (error instanceof Sequelize.ValidationError) {\r\n        return { errno: 1003, errmsg: error.errors[0].message };\r\n    } else {\r\n        return { errno: 1004, errmsg: error.message };\r\n    }\r\n};\r\n\r\nexport { res, err };\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/libs/format.js","class BaseModel {\r\n  constructor(schema) {\r\n    this._schema = schema\r\n  }\r\n\r\n\r\n  _getSort = async () => {\r\n    const sort = await this._schema.max('sort')\r\n    return isNaN(sort) ? 0 : (sort + 1);\r\n  }\r\n\r\n  /**\r\n   * 查详情\r\n   * @param {Number} id \r\n   * @return {Object} 单个Model\r\n   */\r\n  find = async id => {\r\n    return this._schema.find(id)\r\n  }\r\n\r\n  /**\r\n   * 查列表\r\n   * @param {Object} data\r\n   * @return {Array} Model列表\r\n   */\r\n  findAll = async where => {\r\n    console.log(where);\r\n    return this._schema.findAll({ where, order: [['sort','DESC']] })\r\n  }\r\n\r\n  /**\r\n   * 创建\r\n   * @param {Object} data \r\n   * @return {Object} 创建成功的对象\r\n   */\r\n  create = async data => {\r\n    const sort = await this._getSort()\r\n    return this._schema.create({ ...data, sort })\r\n  }\r\n\r\n  /**\r\n   * 更新\r\n   * @param {Number} id \r\n   * @param {Object} data\r\n   * @return {Object} 更新后的对象\r\n   */\r\n  update = async (id, data) => {\r\n    return this._schema.update(data, { where: { id } })\r\n  }\r\n\r\n  /**\r\n   * 删除\r\n   * @param {Number} id\r\n   * @return {Number} 1|0\r\n   */\r\n  remove = async id => {\r\n    return this._schema.destroy({ where: { id } })\r\n  }\r\n\r\n  /**\r\n   * 分页 getList\r\n   * @param \r\n   * @return \r\n   */\r\n  getList = async ctx => {\r\n    let index = Math.floor(ctx.query.index) || 1;\r\n    let rows = Math.floor( ctx.query.rows ) || 10;\r\n  \r\n    let data = await this._schema.findAndCountAll({\r\n      order:  [['sort','DESC']],\r\n      limit: rows,\r\n      offset: (index - 1) * rows,\r\n    });\r\n\r\n    data.limit = rows;\r\n    data.offset = index;\r\n    \r\n    return data;\r\n  }\r\n}\r\n\r\nexport default BaseModel\n\n\n// WEBPACK FOOTER //\n// ./server/model/base-model/index.js","import Sequelize from 'sequelize'\r\nimport { createSchema } from '../../db'\r\nimport BaseModel from '../base-model'\r\n\r\nconst schema = createSchema('home', {\r\n  title: Sequelize.STRING,\r\n  desc: Sequelize.STRING,\r\n  logoUrl: {\r\n    type: Sequelize.STRING,\r\n    field: 'logo_url'\r\n  },\r\n  linkUrl: {\r\n    type: Sequelize.STRING,\r\n    field: 'link_url'\r\n  },\r\n  status: Sequelize.INTEGER,\r\n  sort: Sequelize.INTEGER,\r\n})\r\n\r\nclass Model extends BaseModel {\r\n  constructor() {\r\n    super(schema)\r\n  }\r\n}\r\n\r\nexport default Model\n\n\n// WEBPACK FOOTER //\n// ./server/model/home/index.js","import Home from './home';\r\n\r\nexport { Home };\n\n\n// WEBPACK FOOTER //\n// ./server/model/index.js","import koaRouter from 'koa-router'\r\nimport { home } from '../../../controller'\r\nconst router = koaRouter()\r\n\r\nrouter\r\n  .get('/getList', home.getList)\r\n  .get('/:id', home.find)\r\n  .get('/', home.findAll)\r\n  .post('/', home.create)\r\n  .put('/:id', home.update)\r\n  .patch('/:id', home.patch)\r\n  .delete('/:id', home.remove);\r\n\r\nexport default router\n\n\n// WEBPACK FOOTER //\n// ./server/routes/v1/home/index.js","import koaRouter from 'koa-router';\r\nimport home from './home';\r\n\r\nconst router = koaRouter();\r\n\r\nrouter\r\n    .use('/home', home.routes())\r\n\r\nexport default router;\n\n\n// WEBPACK FOOTER //\n// ./server/routes/v1/index.js","class BaseServices {\r\n\r\n    constructor(Model) {\r\n        this._model = new Model\r\n    }\r\n\r\n    find = async (id) => {\r\n        const data = await this._model.find(id)\r\n        return data\r\n    }\r\n\r\n    findAll = async ctx => {\r\n        const data = await this._model.findAll(ctx.query)\r\n        return data\r\n    }\r\n\r\n    create = async params => {\r\n        const data = await this._model.create(params);\r\n        return data \r\n    }\r\n\r\n    update = async (id, params) => {\r\n        const data = await this._model.update(id, params)\r\n        return data \r\n    }\r\n\r\n    patch = async (id, params) => {\r\n        const data = await this._model.update(id, params)\r\n        return data \r\n    }\r\n\r\n    remove = async id => {\r\n        const data = await this._model.remove(id)\r\n        return data \r\n    }\r\n\r\n    /* 分页 */\r\n    getList = async ctx => {\r\n        const data = await this._model.getList(ctx)\r\n        return data \r\n    }\r\n}\r\n\r\n\r\n\r\nexport default BaseServices\n\n\n// WEBPACK FOOTER //\n// ./server/service/base-services/index.js","import { Home } from '../../model'\r\nimport BaseServices from '../base-services'\r\nimport request from 'request'\r\n\r\nconst curl = function (fn) {\r\n  return new Promise(function (resolve, reject) {\r\n    fn(resolve, reject)\r\n  })\r\n}\r\n\r\n\r\n\r\nclass Services extends BaseServices {\r\n\r\n  constructor() {\r\n    super(Home)\r\n  }\r\n\r\n  getBanner = async (id) => {\r\n    let data = await curl((resolve, reject) => {\r\n      request('http://m.ehaier.com/sg/cms/indexTop.json', function (error, response, body) {\r\n        if (!error && response.statusCode == 200) {\r\n          resolve(JSON.parse(body))\r\n        } else {\r\n          reject(error)\r\n        }\r\n      })\r\n    }\r\n    );\r\n    let topBannerList = data.data.topBannerList\r\n    return topBannerList;\r\n  }\r\n}\r\n\r\nexport default Services\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/service/home/index.js","import Home from './home';\r\n\r\nexport { Home };\n\n\n// WEBPACK FOOTER //\n// ./server/service/index.js","module.exports = require(\"request\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"request\"\n// module id = 20\n// module chunks = 0","import Koa from 'koa'\r\nimport { Nuxt, Builder } from 'nuxt'\r\nimport router from './routes/index.js'\r\n\r\nasync function start () {\r\n  const app = new Koa()\r\n  const host = process.env.HOST || '127.0.0.1'\r\n  const port = process.env.PORT || 3000\r\n \r\n\r\n  // Import and Set Nuxt.js options\r\n  const config = require('../nuxt.config.js')\r\n  config.dev = !(app.env === 'production')\r\n\r\n  // Instantiate nuxt.js\r\n  const nuxt = new Nuxt(config)\r\n\r\n  // Build in development\r\n  if (config.dev) {\r\n    const builder = new Builder(nuxt)\r\n    await builder.build()\r\n  }\r\n\r\n  app\r\n  .use(router.routes(), router.allowedMethods())\r\n  .use(ctx => {\r\n      ctx.status = 200\r\n      ctx.respond = false // Mark request as handled for Koa\r\n      ctx.req.ctx = ctx // This might be useful later on, e.g. in nuxtServerInit or with nuxt-stash\r\n      nuxt.render(ctx.req, ctx.res)\r\n  })\r\n\r\n  app.listen(port, host)\r\n  console.log('Server listening on ' + host + ':' + port) // eslint-disable-line no-console\r\n}\r\n\r\nstart()\r\n\n\n\n// WEBPACK FOOTER //\n// ./server/index.js"],"sourceRoot":""}